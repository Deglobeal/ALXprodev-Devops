#!/bin/bash

# List of Pokémon (lowercase for filenames and URLs)
pokemon_list=("bulbasaur" "ivysaur" "venusaur" "charmander" "charmeleon")

# Directory to save JSON files
output_dir="pokemon_data"

# Create output directory if not exists
mkdir -p "$output_dir"

for pokemon in "${pokemon_list[@]}"
do
    echo "Fetching data for $pokemon..."
    
    url="https://pokeapi.co/api/v2/pokemon/$pokemon"
    output_file="$output_dir/${pokemon}.json"
    
    # Fetch data and save to file
    http_status=$(curl -s -w "%{http_code}" -o "$output_file" "$url")
    
    if [ "$http_status" -eq 200 ]; then
        echo "Saved data to $output_file ✅"
    else
        echo "Failed to fetch data for $pokemon. HTTP status: $http_status" >&2
        # Remove incomplete file if any
        [ -f "$output_file" ] && rm "$output_file"
    fi
    
    # Delay to avoid rate limiting
    sleep 1
done

